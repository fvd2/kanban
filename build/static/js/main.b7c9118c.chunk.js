(this.webpackJsonpkanban=this.webpackJsonpkanban||[]).push([[0],{154:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),c=n(48),i=n.n(c),o=n(193),l=n(201),r=n(4),d=n(131),u=n(132),j=n(7),b=n(10),m=n(179),O=n(176),p=n(174),x=n(183),h=n(96),k=n(190),f=n(106),g=n(27),v=n(41),y=n(73),I=n(171),C=n(172),T=n(130),L=n(23),w=n(1),F=function(e){var t=e.isOpen,n=e.onClose,a=e.dispatch,s=e.activeList;return Object(w.jsxs)(v.a,{isOpen:t,onClose:n,children:[Object(w.jsx)(v.h,{}),Object(w.jsxs)(v.d,{children:[Object(w.jsx)(v.g,{children:"Add a column"}),Object(w.jsx)(L.c,{initialValues:{columnName:""},validate:function(e){var t={};return e.columnName||(t.columnName="Required"),t},onSubmit:function(e,t){var c=t.setSubmitting;setTimeout((function(){a({type:"addColumn",payload:{activeList:s,columnName:e.columnName}}),c(!1),n()}),100)},children:function(e){var t=e.errors,a=e.touched,s=e.isSubmitting;return Object(w.jsxs)(L.b,{children:[Object(w.jsx)(v.b,{children:Object(w.jsx)(L.a,{name:"columnName",children:function(e){var n=e.field;return Object(w.jsxs)(y.a,{isInvalid:t.columnName&&a.columnName,children:[Object(w.jsx)(I.a,Object(b.a)(Object(b.a)({},n),{},{name:"columnName",placeholder:"Column name"})),Object(w.jsx)(C.a,{children:t.columnName})]})}})}),Object(w.jsxs)(v.f,{children:[Object(w.jsx)(T.a,{colorScheme:"blue",type:"submit",mr:3,isDisabled:t.columnName,isLoading:s,children:"Add"}),Object(w.jsx)(T.a,{variant:"ghost",onClick:n,children:"Cancel"})]})]})}})]})]})},S=n(180),D=n(187),N=n(177),R=function(e){var t=e.onAddTask,n=e.hideTaskInput,s=e.isOpen,c=e.columnId,i=Object(a.useState)(""),o=Object(r.a)(i,2),l=o[0],d=o[1],u=Object(a.useRef)();Object(a.useEffect)((function(){s&&u.current.focus()}),[s]);return Object(w.jsx)("form",{onSubmit:function(e){e.preventDefault(),l.trim().length>0?(t(l,c),d(""),n()):n()},onBlur:function(){n()},children:Object(w.jsx)(p.a,{children:Object(w.jsx)(I.a,{ref:u,value:l,placeholder:"Your next task",onChange:function(e){d(e.target.value)}})})})},A=n(197),E=n(202),z=n(199),$=n(196),M=n(204),P=n(175),B={tasks:{1:"#F56565",2:"#ED8936",3:"#48BB78",4:"#38B2AC",5:"#4299e1",6:"#EAEAEA"}},H=Object(P.a)({config:{initialColorMode:"light",useSystemColorMode:!0}}),q=n(184),V=n(185),W=n(186),J=n(203),_=n(178),G=function(e){var t=e.btnRef,n=e.isOpen,s=e.onClose,c=e.heading,i=e.id,o=e.title,l=e.color,d=e.owner,u=e.index,j=e.taskHandler,m=e.columnId,x=e.columns,h=e.columnTitlesToIds,k=Object(a.useState)(l),f=Object(r.a)(k,2),g=f[0],F=f[1],S=Object(a.useState)(""),D=Object(r.a)(S,2),R=D[0],A=D[1],E=Object(a.useRef)(h.get(m));Object(a.useEffect)((function(){var e=!0;return!1===e&&s(),function(){e=!1,A(h.get(m))}}));var z=function(){A(E.current.value)},$=[1,2,3,4,5,6].map((function(e){return g===B.tasks[e].trim()?Object(w.jsx)(O.b,{align:"center",size:"24px",border:"2px solid black",m:.5,bg:B.tasks[e]},e):Object(w.jsx)(O.b,{align:"center",cursor:"pointer",size:"24px",border:"2px solid white",m:.5,bg:B.tasks[e],onClick:function(){return F(B.tasks[e])}},e)}));return Object(w.jsxs)(J.a,{isOpen:n,onClose:s,placement:"right",finalFocusRef:t,children:[Object(w.jsx)(v.h,{}),Object(w.jsxs)(J.b,{children:[Object(w.jsx)(v.c,{}),Object(w.jsx)(v.g,{children:c}),Object(w.jsx)(L.c,{initialValues:{title:o,owner:d},validate:function(e){var t={};return e.title||(t.title="Required"),t},onSubmit:function(e,t){var n=t.setSubmitting;j({taskId:i,title:e.title,owner:e.owner,color:g,sourceColumn:m,columnId:h.get(R),destinationColumn:h.get(R),index:u}),n(!1),s()},children:function(e){var t=e.errors,n=e.touched,a=e.isSubmitting;return Object(w.jsxs)(L.b,{children:[Object(w.jsxs)(v.b,{children:[Object(w.jsx)(L.a,{name:"title",children:function(e){var a=e.field;return Object(w.jsxs)(y.a,{mb:3,isInvalid:t.title&&n.title,children:[Object(w.jsx)(N.a,{children:"Title:"}),Object(w.jsx)(I.a,Object(b.a)(Object(b.a)({},a),{},{name:"title",placeholder:"Task title"})),Object(w.jsx)(C.a,{children:t.title})]})}}),Object(w.jsx)(L.a,{name:"owner",children:function(e){var a=e.field;return Object(w.jsxs)(y.a,{mb:3,isInvalid:t.owner&&n.owner,children:[Object(w.jsx)(N.a,{children:"Owner:"}),Object(w.jsx)(I.a,Object(b.a)(Object(b.a)({},a),{},{name:"owner",placeholder:"Task owner"})),Object(w.jsx)(C.a,{children:t.owner})]})}}),Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(N.a,{children:"Category:"}),Object(w.jsxs)(_.a,{ref:E,onChange:z,mb:3,children:[Object(w.jsx)("option",{value:h.get(m),children:h.get(m)},m),x.map((function(e){return e===h.get(m)?"":Object(w.jsx)("option",{value:e,children:e},e)}))]}),Object(w.jsx)(N.a,{children:"Color:"}),Object(w.jsx)(p.a,{children:$})]})]}),Object(w.jsxs)(v.f,{children:[Object(w.jsx)(T.a,{variant:"ghost",onClick:s,children:"Cancel"}),Object(w.jsx)(T.a,{colorScheme:"blue",type:"submit",mr:3,isDisabled:t.title||t.owner,isLoading:a,children:"Submit"})]})]})}})]})]})},Y=function(e){var t=e.id,n=e.index,s=e.title,c=e.color,i=e.owner,o=e.onColorChange,l=e.onDeleteTask,d=e.columnId,u=e.onSubmitEditedTask,j=e.columns,h=e.columnTitlesToIds,k=Object(a.useState)(!1),f=Object(r.a)(k,2),v=f[0],y=f[1],I=Object(m.a)(),C=I.isOpen,T=I.onOpen,L=I.onClose,F=Object(a.useRef)(),D=function(e){"mouseenter"!==e.type&&"mouseover"!==e.type||y(!0),"mouseleave"===e.type&&y(!1)},R=function(){T()},P=function(e){u(e)},H=function(){l(d,t,n)},J=[1,2,3,4,5,6],_=function(e){return J.map((function(n){return Object(w.jsx)(O.b,{align:"center",size:"16px",m:.5,bg:B.tasks[n],onClick:function(){return function(e,n){o(t,B.tasks[e]),n()}(n,e)}},n)}))};return Object(w.jsx)(w.Fragment,{children:Object(w.jsx)(g.b,{draggableId:t,index:n,children:function(e){return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(S.a,Object(b.a)(Object(b.a)(Object(b.a)({justify:"center",onMouseEnter:D,onMouseOver:D,bg:"white",mb:1,pl:2,pt:1,pb:1,pr:.5,border:"1px solid #CACFD6",borderRadius:2,boxShadow:"2x1",height:"auto"},e.draggableProps),{},{ref:e.innerRef},e.dragHandleProps),{},{children:[Object(w.jsxs)(p.a,{align:"center",children:[Object(w.jsx)(A.a,{children:function(e){var t=e.onClosePopover;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(A.c,{children:Object(w.jsx)(O.b,{align:"center",size:"16px",bg:c,mr:1})}),Object(w.jsx)(E.a,{children:Object(w.jsx)(A.b,{width:"auto",p:1,children:Object(w.jsx)(p.a,{children:_(t)})})})]})}}),Object(w.jsxs)(p.a,{justify:"space-between",align:"center",width:"90%",children:[Object(w.jsx)(z.a,{label:s,children:Object(w.jsx)(N.a,{fontSize:"sm",textAlign:"center",as:"b",isTruncated:!0,children:s})}),Object(w.jsx)(G,{btnRef:F,isOpen:C,onClose:L,heading:"Edit task",id:t,title:s,color:c,owner:i,taskHandler:P,columns:j,columnTitlesToIds:h,columnId:d,index:n}),v?Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)($.a,{children:[Object(w.jsx)($.b,{as:x.a,"aria-label":"display task settings",variant:"unstyled",size:"xs",icon:Object(w.jsx)(q.a,{})}),Object(w.jsxs)($.d,{children:[Object(w.jsx)($.c,{icon:Object(w.jsx)(V.a,{}),command:"E",onClick:R,ref:F,children:"Edit"}),Object(w.jsx)($.c,{icon:Object(w.jsx)(W.a,{}),command:"D",onClick:H,children:"Delete"})]})]})}):Object(w.jsx)(x.a,{variant:"unstyled",size:"xs"})]})]}),i&&Object(w.jsxs)(p.a,{align:"center",children:[Object(w.jsx)(M.a,{size:"2xs",mr:1}),Object(w.jsx)(N.a,{fontSize:"sm",children:i})]})]}))})}})})},K=function(e){var t=e.tasks,n=e.onColorChange,a=e.onDeleteTask,s=e.onSubmitEditedTask,c=e.columnId,i=e.columns,o=e.columnTitlesToIds;return Object(w.jsx)(p.a,{direction:"column",children:t.map((function(e,t){return Object(w.jsx)(Y,{id:e.id,title:e.title,owner:e.owner,color:e.color,index:t,onColorChange:n,columnTitlesToIds:o,onDeleteTask:a,columnId:c,onSubmitEditedTask:s,columns:i},e.id)}))})},Q=function(e){var t=e.width,n=e.id,s=e.title,c=e.tasks,i=e.index,o=e.onColumnSubmit,l=e.onColorChange,d=e.onDeleteColumn,u=e.onAddTask,j=e.activeList,m=e.onDeleteTask,h=e.onSubmitEditedTask,k=e.columns,f=e.columnTitlesToIds,v=Object(a.useState)(!1),C=Object(r.a)(v,2),T=C[0],F=C[1],A=Object(a.useState)(!1),E=Object(r.a)(A,2),z=E[0],$=E[1],M=Object(a.useState)(!1),P=Object(r.a)(M,2),B=P[0],H=P[1],q=Object(a.useRef)();Object(a.useEffect)((function(){z&&q.current.focus()}),[z]);var J=function(e){"mouseover"!==e.type&&"mouseenter"!==e.type||F(!0),"mouseleave"===e.type&&F(!1)},_=function(){$((function(e){return!e}))},G=function(){d({type:"deleteColumn",payload:{columnId:n,index:i}})},Y=function(){H((function(e){return!e}))},Q=Object(w.jsx)(L.c,{initialValues:{columnName:s},validate:function(e){var t={};return e.columnName||(t.columnName="Required"),t},onSubmit:function(e){o(n,e.columnName),_()},children:function(e){var t=e.handleSubmit,n=e.errors;return Object(w.jsx)(L.b,{children:Object(w.jsx)(L.a,{name:"columnName",children:function(e){var a=e.field;return Object(w.jsx)(y.a,{isInvalid:n.columnName,children:Object(w.jsx)(I.a,Object(b.a)(Object(b.a)({},a),{},{ref:q,name:"columnName",placeholder:"Column name",onBlur:t}))})}})})}});return Object(w.jsx)(O.a,{children:Object(w.jsx)(g.b,{draggableId:n,index:i,children:function(e){return Object(w.jsxs)(S.a,Object(b.a)(Object(b.a)(Object(b.a)({width:t,ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{mt:2,p:3,children:[Object(w.jsx)(O.a,{align:"center",bg:"#FFFFFF",mb:3,p:0,border:"1px solid #CACFD6",borderRadius:2,children:z?Q:Object(w.jsxs)(p.a,{onMouseEnter:J,onMouseOver:J,onMouseLeave:J,align:"center",justify:"space-between",children:[Object(w.jsx)(D.a,{ml:3,mt:1,mb:1,align:"center",lineHeight:"unset",size:"sm",isTruncated:!0,children:s}),T?Object(w.jsxs)(p.a,{children:[Object(w.jsx)(x.a,{onClick:_,size:"sm",variant:"unstyled",icon:Object(w.jsx)(V.a,{})}),Object(w.jsx)(x.a,{onClick:G,size:"sm",variant:"unstyled",icon:Object(w.jsx)(W.a,{})})]}):Object(w.jsx)(p.a,{children:Object(w.jsx)(x.a,{size:"sm",variant:"unstyled"})})]})}),Object(w.jsx)(O.a,{mb:3,borderBottom:"2px solid #CACFD6"}),Object(w.jsx)(g.c,{droppableId:n,type:"task",index:i,children:function(e){return Object(w.jsxs)("div",{ref:e.innerRef,children:[Object(w.jsx)(K,Object(b.a)(Object(b.a)({},e.droppableProps),{},{tasks:c,onColorChange:l,activeList:j,columnId:n,onDeleteTask:m,onSubmitEditedTask:h,columns:k,columnTitlesToIds:f})),e.placeholder]})}}),e.placeholder,B?Object(w.jsx)(R,{onAddTask:u,hideTaskInput:Y,isOpen:B,columnId:n}):Object(w.jsx)(N.a,{justify:"center",color:"#666666","aria-label":"Add task button",onClick:Y,children:"+ Add Task"})]}))}})})},U=n(188),X=function(e){var t=e.data,n=e.onOpen,a=e.onDrop,s=e.onColumnSubmit,c=e.onColorChange,i=e.onAddTask,o=e.onDeleteColumn,l=e.onDeleteTask,r=e.onSubmitEditedTask,d=e.columnTitlesToIds;return Object(w.jsx)(g.c,{droppableId:"board",type:"column",direction:"horizontal",children:function(e){return Object(w.jsx)(w.Fragment,{children:t&&Object(w.jsxs)(O.a,Object(b.a)(Object(b.a)({display:"flex",ref:e.innerRef},e.droppableProps),{},{children:[t.columnOrder.map((function(e,n){return Object(w.jsx)(Q,{width:"250px",id:e,index:n,title:t.columns[e].title,taskIds:t.columns[e].taskIds,tasks:t.columns[e].taskIds.map((function(e){return t.tasks[e]})),onDrop:a,onColumnSubmit:s,onColorChange:c,onAddTask:i,onDeleteColumn:o,onDeleteTask:l,onSubmitEditedTask:r,columns:Object.values(t.columns).map((function(e){return e.title})),columnTitlesToIds:d},e)})),e.placeholder,Object(w.jsx)(x.a,{mt:6,size:"xs",bgColor:"#424874",color:"#FFFFFF",_hover:{bgColor:"#292D48"},isRound:!0,"aria-label":"Add column button",icon:Object(w.jsx)(U.a,{}),onClick:n})]}))})}})},Z=n(189),ee=function(e){var t=e.columnTitle,n=e.columnId,s=e.taskId,c=e.taskTitle,i=e.taskOwner,o=e.taskColor,l=e.index,d=e.taskHandler,u=e.portalRef,j=e.onDeleteTask,b=e.columnTitlesToIds,p=e.columns,h=Object(m.a)(),k=h.isOpen,f=h.onOpen,g=h.onClose,v=Object(a.useState)(!1),y=Object(r.a)(v,2),I=y[0],C=y[1],T=Object(a.useRef)();return Object(w.jsxs)(w.Fragment,{children:[I&&Object(w.jsx)(E.a,{containerRef:u,children:Object(w.jsx)(G,{btnRef:T,isOpen:k,onClose:g,heading:"Edit task",id:s,title:c,color:o,owner:i,taskHandler:d,columns:p,columnTitlesToIds:b,columnId:n,index:l})}),Object(w.jsxs)(Z.f,{children:[Object(w.jsx)(Z.c,{children:t}),Object(w.jsx)(Z.c,{children:c}),Object(w.jsx)(Z.c,{children:i}),Object(w.jsx)(Z.c,{children:Object(w.jsx)(O.b,{size:"20px",align:"center",justify:"center",border:"1px solid black",m:.5,bg:o})}),Object(w.jsxs)(Z.c,{children:[Object(w.jsx)(x.a,{size:"xs",variant:"unstyled",icon:Object(w.jsx)(V.a,{}),onClick:function(){C(!0),f()}}),Object(w.jsx)(x.a,{size:"xs",variant:"unstyled",icon:Object(w.jsx)(W.a,{}),onClick:function(){j(n,s,l)}})]})]},s)]})},te=function(e){var t=e.data,n=e.onAddNewDetailedTask,s=e.columnTitlesToIds,c=e.onSubmitEditedTask,i=e.onDeleteTask,o=Object(m.a)(),l=o.isOpen,r=o.onOpen,d=o.onClose,u=Object(a.useRef)(),j=Object(a.useRef)(),b=function(e){c(e)};return Object(w.jsx)(p.a,{ref:j,direction:"column",children:Object(w.jsxs)(O.a,{align:"center",bg:"#FFFFFF",mt:5,ml:5,p:0,border:"1px solid #CACFD6",borderRadius:2,children:[Object(w.jsxs)(Z.a,{variant:"simple",size:"sm",children:[Object(w.jsx)(Z.e,{bgColor:"#5B8266",children:Object(w.jsxs)(Z.f,{children:[Object(w.jsx)(Z.d,{color:"#FFFFFF",children:"Category"}),Object(w.jsx)(Z.d,{color:"#FFFFFF",children:"Task"}),Object(w.jsx)(Z.d,{color:"#FFFFFF",children:"Owner"}),Object(w.jsx)(Z.d,{color:"#FFFFFF",children:"Color"}),Object(w.jsx)(Z.d,{color:"#FFFFFF",children:"Options"})]})}),Object(w.jsx)(Z.b,{children:Object.values(t.columns).map((function(e){return e.taskIds.map((function(n,a){return Object(w.jsx)(ee,{columnTitle:e.title,columnId:e.id,taskId:t.tasks[n].id,taskTitle:t.tasks[n].title,taskOwner:t.tasks[n].owner,taskColor:t.tasks[n].color,index:a,portalRef:j,taskHandler:b,onDeleteTask:i,columns:Object.values(t.columns).map((function(e){return e.title})),columnTitlesToIds:s},t.tasks[n].id)}))}))})]}),l&&Object(w.jsx)(G,{btnRef:u,isOpen:l,onClose:d,heading:"Create new task",id:"",title:"",color:"#EAEAEA",owner:"",taskHandler:function(e){n(e)},columns:Object.values(t.columns).map((function(e){return e.title})),columnId:Object.values(t.columns)[0].id,columnTitlesToIds:s}),Object(w.jsx)(N.a,{fontSize:"sm",ml:3,align:"left",color:"#666666",onClick:function(){r()},children:"+ Add Task"})]})})},ne=function(e){var t=e.taskListData,n=e.activeList,s=e.dispatch,c=e.toggleMenu,i=e.isSmallerThan768,o=Object(a.useState)(t),l=Object(r.a)(o,2),d=l[0],u=l[1],j=Object(m.a)(),b=j.isOpen,v=j.onOpen,y=j.onClose,I=Object(a.useState)("board"),C=Object(r.a)(I,2),T=C[0],L=C[1];Object(a.useEffect)((function(){u(t);R(function(e,t){return new Map(Object.values(e.taskLists[t].columns).map((function(e){return[e.title,e.id]})).concat(Object.values(e.taskLists[t].columns).map((function(e){return[e.id,e.title]}))))}(t,t.activeList))}),[t]);var S=Object(a.useState)(new Map(Object.values(t.taskLists[n].columns).map((function(e){return[e.title,e.id]})).concat(Object.values(t.taskLists[n].columns).map((function(e){return[e.id,e.title]}))))),D=Object(r.a)(S,2),N=D[0],R=D[1],A=function(e){if("column"===e.type&&s({type:"moveColumn",payload:{sourceIndex:e.source.index,destinationIndex:e.destination.index,draggableId:e.draggableId}}),"task"===e.type){if(!e.destination)return;s({type:"moveTask",payload:{sourceColumn:e.source.droppableId,sourceIndex:e.source.index,destinationColumn:e.destination.droppableId,destinationIndex:e.destination.index,draggableId:e.draggableId}})}},E=function(e,t,n){s({type:"deleteTask",payload:{columnId:e,taskId:t,index:n}})},z=function(){L((function(e){return"board"===e?"table":"board"}))},$=function(e){var t=e.taskId,n=e.title,a=e.color,c=e.owner,i=e.columnId,o=e.sourceColumn,l=e.destinationColumn,r=e.index;s({type:"editTask",payload:{columnId:i,taskId:t,title:n,color:a,owner:c,sourceColumn:o,destinationColumn:l,index:r}})};return Object(w.jsx)(O.a,{bg:"#F4F4F4",minWidth:"fit-content",width:"100%",children:Object(w.jsxs)(g.a,{onDragEnd:A,children:[Object(w.jsx)(F,{isOpen:b,onOpen:v,onClose:y,activeList:t.activeList,dispatch:s}),Object(w.jsxs)(p.a,{direction:"column",children:[Object(w.jsxs)(p.a,{mt:5,ml:5,children:[i&&Object(w.jsx)(x.a,{onClick:c,isRound:!0,size:"xs",bgColor:"#424874",color:"white",_hover:{bgColor:"#292D48"},icon:Object(w.jsx)(k.a,{}),mr:5}),Object(w.jsx)(x.a,{isDisabled:"board"===T,isRound:!0,colorScheme:"blackAlpha",onClick:z,size:"xs",mr:1,icon:Object(w.jsx)(h.a,{as:f.a})}),Object(w.jsx)(x.a,{isDisabled:"table"===T,isRound:!0,colorScheme:"blackAlpha",size:"xs",onClick:z,icon:Object(w.jsx)(h.a,{as:f.b})})]}),Object(w.jsx)(p.a,{children:"board"===T?Object(w.jsx)(X,{data:d.taskLists[n],onOpen:v,dispatch:s,onDrop:A,onColumnSubmit:function(e,t){s({type:"renameColumn",payload:{columnId:e,columnName:t}})},onAddTask:function(e,t){s({type:"addTask",payload:{activeList:n,taskTitle:e,columnId:t}})},onColorChange:function(e,t){s({type:"changeTaskColor",payload:{activeList:n,taskId:e,color:t}})},onDeleteColumn:function(e){s(e)},onDeleteTask:E,onSubmitEditedTask:$,columnTitlesToIds:N}):Object(w.jsx)(te,{data:d.taskLists[n],columnTitlesToIds:N,onAddNewDetailedTask:function(e){var t=e.title,n=e.color,a=e.owner,c=e.columnId;s({type:"addDetailedTask",payload:{columnId:c,title:t,color:n,owner:a}})},onSubmitEditedTask:$,onDeleteTask:E})})]})]})})},ae=n(191),se=function(e){var t=e.hideInput,n=e.isOpen,s=e.onSubmit,c=Object(a.useState)(""),i=Object(r.a)(c,2),o=i[0],l=i[1],d=Object(a.useRef)();Object(a.useEffect)((function(){n&&d.current.focus()}),[n]);return Object(w.jsx)("form",{onSubmit:function(e){e.preventDefault(),o.trim().length>0?(s({type:"addList",payload:o}),l(""),t()):t()},children:Object(w.jsx)(p.a,{children:Object(w.jsx)(I.a,{ref:d,value:o,placeholder:"List name",onChange:function(e){l(e.target.value)},onBlur:function(){t()},colorScheme:"whiteAlpha",size:"sm",ml:5,mr:5,mt:3})})})},ce=function(e){var t=e.listName,n=e.index,s=e.activeList,c=e.onListSwitch,i=e.onListSubmit,o=e.onDelete,l=Object(a.useState)(!1),d=Object(r.a)(l,2),u=d[0],j=d[1],m=Object(a.useState)(!1),h=Object(r.a)(m,2),k=h[0],f=h[1],v=Object(a.useRef)();Object(a.useEffect)((function(){k&&v.current.focus()}),[k]);var C=function(e){"mouseover"!==e.type&&"mouseenter"!==e.type||j(!0),"mouseleave"===e.type&&j(!1)},T=function(){o({type:"deleteList",payload:t})},F=function(){f(!0)},S=Object(w.jsx)(L.c,{initialValues:{listName:t},validate:function(e){var t={};return e.listName||(t.listName="Required"),t},onSubmit:function(e){i({type:"renameList",payload:{listName:t,newName:e.listName}})},children:function(e){var t=e.handleSubmit,n=e.errors;return Object(w.jsx)(L.b,{children:Object(w.jsx)(L.a,{name:"listName",children:function(e){var a=e.field;return Object(w.jsx)(y.a,{isInvalid:n.listName,children:Object(w.jsx)(I.a,Object(b.a)(Object(b.a)({},a),{},{ref:v,name:"listName",placeholder:"List name",onBlur:t}))})}})})}});return Object(w.jsx)(g.b,{draggableId:t,index:n,children:function(e){return Object(w.jsxs)(p.a,Object(b.a)(Object(b.a)(Object(b.a)({height:"50px",width:"100%"},e.draggableProps),{},{ref:e.innerRef},e.dragHandleProps),{},{onMouseEnter:C,onMouseOver:C,onMouseLeave:C,children:[k?S:Object(w.jsxs)(p.a,Object(b.a)(Object(b.a)({width:"100%",justify:"space-between",flexGrow:1,pt:0,pl:5,pr:0,align:"center"},t===s?{as:"b",bgColor:"#292D48"}:""),{},{children:[Object(w.jsx)(N.a,Object(b.a)(Object(b.a)({cursor:"pointer",size:"md","aria-label":"Task list selector",color:"white",onClick:c},t.length>20&&{isTruncated:!0}),{},{children:t})),Object(w.jsx)(O.a,{width:75,mr:1,children:u?Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(x.a,{colorScheme:"whiteAlpha",size:"xs",bg:"transparent",isRound:!0,onClick:F,icon:Object(w.jsx)(V.a,{})}),Object(w.jsx)(x.a,{colorScheme:"whiteAlpha",isRound:!0,size:"xs",bg:"transparent",onClick:T,icon:Object(w.jsx)(W.a,{})})]}):Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(x.a,{size:"xs",bg:"transparent",isRound:!0}),Object(w.jsx)(x.a,{size:"xs",bg:"transparent",isRound:!0})]})})]}),t),e.placeholder]}))}})},ie=function(e){var t=e.taskLists,n=e.activeList,s=e.onListSwitch,c=e.dispatch,i=Object(a.useState)(!1),o=Object(r.a)(i,2),l=o[0],d=o[1],u=function(){d((function(e){return!e}))},j=function(e){c(e)};return Object(w.jsx)(g.c,{droppableId:"board",type:"column",direction:"vertical",children:function(e){return Object(w.jsxs)(p.a,Object(b.a)(Object(b.a)({direction:"column",ref:e.innerRef},e.droppableProps),{},{children:[t.map((function(e,t){return Object(w.jsx)(ce,{id:e,index:t,listName:e,onDelete:j,onListSubmit:j,activeList:n,onListSwitch:s},e)})),e.placeholder,l?Object(w.jsx)(se,{pt:3,pb:3,pl:5,pr:5,onSubmit:j,hideInput:u,isOpen:l}):Object(w.jsx)(N.a,{pt:3,pb:3,pl:5,pr:5,size:"md",color:"white",onClick:u,children:"+ Add List"})]}))}})},oe=function(e){var t=e.taskLists,n=e.activeList,a=e.onListSwitch,s=e.dispatch,c=e.menuIsToggled,i=e.toggleMenu;return Object(w.jsx)(g.a,{onDragEnd:function(e){e.destination&&s({type:"moveList",payload:{sourceIndex:e.source.index,destinationIndex:e.destination.index,draggableId:e.draggableId}})},children:Object(w.jsxs)(p.a,{direction:"column",bg:"#424874",minHeight:"100vh",w:{base:"100%",md:"auto",lg:"25%",xl:"20%"},children:[Object(w.jsxs)(p.a,{justify:"space-between",children:[Object(w.jsx)(D.a,{size:"md",mb:3,mt:5,ml:5,mr:5,color:"white",children:"Task Lists"}),c?Object(w.jsx)(x.a,{mt:5,mr:5,colorScheme:"whiteAlpha",onClick:i,size:"xs",isRound:!0,icon:Object(w.jsx)(ae.a,{})}):Object(w.jsx)("div",{mt:5,mr:5})]}),Object(w.jsx)(ie,{taskLists:t,activeList:n,dispatch:s,onListSwitch:a})]})})},le=n(192),re={activeList:"Programming",listOrder:["Programming","Work"],taskLists:{Programming:{name:"Programming",tasks:{"task-1":{id:"task-1",title:"Buy supplies",owner:"Freek",color:B.tasks[1]},"task-2":{id:"task-2",title:"Prepare meals",owner:"Freek",color:B.tasks[3]},"task-3":{id:"task-3",title:"Pass the food to delivery person",owner:"Freek",color:B.tasks[5]}},columns:{"column-1":{id:"column-1",title:"Backlog",taskIds:["task-1","task-2","task-3"]},"column-2":{id:"column-2",title:"Doing",taskIds:[]},"column-3":{id:"column-3",title:"Done",taskIds:[]}},columnOrder:["column-1","column-2","column-3"]},Work:{name:"Work",tasks:{"task-1":{id:"task-1",title:"Prepare board presentation",owner:"Freek",color:B.tasks[1]},"task-2":{id:"task-2",title:"Develop scenario analysis",owner:"John",color:B.tasks[3]},"task-3":{id:"task-3",title:"Review market trends and implications",owner:"Freek",color:B.tasks[5]}},columns:{"column-1":{id:"column-1",title:"Not started",taskIds:["task-1","task-2","task-3"]},"column-2":{id:"column-2",title:"In progress",taskIds:[]},"column-3":{id:"column-3",title:"Awaiting response",taskIds:[]},"column-4":{id:"column-4",title:"Approved",taskIds:[]}},columnOrder:["column-1","column-2","column-3","column-4"]}}},de=n(198),ue=n(30),je=n.n(ue),be=function(e,t){var n=Object(b.a)({},e);switch(t.type){case"addList":var a=Object(j.a)({},t.payload,{name:t.payload,tasks:{},columns:{},columnOrder:[]});return je()(e,{taskLists:{$merge:a},listOrder:{$push:[t.payload]}});case"deleteList":var s=e.listOrder.findIndex((function(e){return e===t.payload}));if(e.activeList===t.payload){var c=e.listOrder.find((function(e){return e!==t.payload}));return je()(e,{activeList:{$set:c},taskLists:{$unset:[t.payload]},listOrder:{$splice:[[s,1]]}})}return je()(e,{taskLists:{$unset:[t.payload]},listOrder:{$splice:[[s,1]]}});case"renameList":var i=function(e,t,n){var a=n[e],s=Object(d.a)(n,[e].map(u.a));return Object(b.a)(Object(j.a)({},t,a),s)}([t.payload.listName],[t.payload.newName],e.taskLists);i[t.payload.newName].name=t.payload.newName;var o=e.listOrder.findIndex((function(e){return e===t.payload.listName}));return je()(e,{taskLists:{$set:i},listOrder:{$splice:[[o,1,t.payload.newName]]},activeList:{$set:t.payload.newName}});case"selectList":return je()(e,{activeList:{$set:t.payload.selectedList}});case"moveList":return n.listOrder.splice(t.payload.sourceIndex,1),n.listOrder.splice(t.payload.destinationIndex,0,t.payload.draggableId),n;case"addColumn":var l={id:Object(de.a)(),title:t.payload.columnName,taskIds:[]};return je()(e,{taskLists:Object(j.a)({},t.payload.activeList,{columns:{$merge:Object(j.a)({},l.id,l)},columnOrder:{$push:[l.id]}})});case"moveColumn":return n.taskLists[e.activeList].columnOrder.splice(t.payload.sourceIndex,1),n.taskLists[e.activeList].columnOrder.splice(t.payload.destinationIndex,0,t.payload.draggableId),n;case"renameColumn":return je()(e,{taskLists:Object(j.a)({},e.activeList,{columns:Object(j.a)({},t.payload.columnId,{title:{$set:t.payload.columnName}})})});case"deleteColumn":return je()(e,{taskLists:Object(j.a)({},e.activeList,{columns:{$unset:[t.payload.columnId]},columnOrder:{$splice:[[t.payload.index,1]]}})});case"addTask":var r={id:Object(de.a)(),title:t.payload.taskTitle,color:"#EAEAEA",owner:""};return je()(e,{taskLists:Object(j.a)({},e.activeList,{tasks:{$merge:Object(j.a)({},r.id,r)},columns:Object(j.a)({},t.payload.columnId,{taskIds:{$push:[r.id]}})})});case"addDetailedTask":var m={id:Object(de.a)(),title:t.payload.title,color:t.payload.color,owner:t.payload.owner};return console.log(e),je()(e,{taskLists:Object(j.a)({},e.activeList,{tasks:{$merge:Object(j.a)({},m.id,m)},columns:Object(j.a)({},t.payload.columnId,{taskIds:{$push:[m.id]}})})});case"moveTask":var O=t.payload,p=O.sourceColumn,x=O.sourceIndex,h=O.destinationColumn,k=O.destinationIndex,f=O.draggableId;return n.taskLists[n.activeList].columns[p].taskIds.splice(x,1),n.taskLists[n.activeList].columns[h].taskIds.splice(k,0,f),n;case"editTask":var g,v={id:t.payload.taskId,title:t.payload.title,color:t.payload.color,owner:t.payload.owner};return t.payload.sourceColumn!==t.payload.destinationColumn?je()(e,{taskLists:Object(j.a)({},e.activeList,{tasks:Object(j.a)({},t.payload.taskId,{$set:v}),columns:(g={},Object(j.a)(g,t.payload.sourceColumn,{taskIds:{$splice:[[t.payload.index,1]]}}),Object(j.a)(g,t.payload.destinationColumn,{taskIds:{$push:[t.payload.taskId]}}),g)})}):je()(e,{taskLists:Object(j.a)({},e.activeList,{tasks:Object(j.a)({},t.payload.taskId,{$set:v})})});case"deleteTask":return je()(e,{taskLists:Object(j.a)({},e.activeList,{tasks:{$unset:[t.payload.taskId]},columns:Object(j.a)({},t.payload.columnId,{taskIds:{$splice:[[t.payload.index,1]]}})})});case"changeTaskColor":return je()(e,{taskLists:Object(j.a)({},e.activeList,{tasks:Object(j.a)({},t.payload.taskId,{color:{$set:t.payload.color}})})});default:throw new Error}},me=function(){var e=Object(a.useReducer)(be,re),t=Object(r.a)(e,2),n=t[0],s=t[1],c=Object(a.useState)(!1),i=Object(r.a)(c,2),o=i[0],l=i[1],d=Object(le.a)("(max-width: 767px)"),u=Object(r.a)(d,1)[0],j=function(){l((function(e){return!e}))};return Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(p.a,{direction:{base:"column",md:"row"},children:[(!u||o)&&Object(w.jsx)(oe,{taskLists:n.listOrder,activeList:n.activeList,onListSwitch:function(e){s({type:"selectList",payload:{selectedList:e.target.innerText}})},dispatch:s,menuIsToggled:o,toggleMenu:j}),!o&&Object(w.jsx)(ne,{taskListData:n,activeList:n.activeList,dispatch:s,toggleMenu:j,menuIsToggled:o,isSmallerThan768:u})]})})};i.a.render(Object(w.jsxs)(s.a.StrictMode,{children:[Object(w.jsx)(o.a,{initialColorMode:H.config.initialColorMode}),Object(w.jsx)(l.a,{theme:H,children:Object(w.jsx)(me,{})})]}),document.getElementById("root"))}},[[154,1,2]]]);
//# sourceMappingURL=main.b7c9118c.chunk.js.map